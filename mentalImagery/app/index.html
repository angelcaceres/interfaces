<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Estimulación: Imagineria Mental</title>


    <link rel="stylesheet" href="styles/mentalImgStyle.css">

    <!-- CSS only -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">

<!-- JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>



</head>

<body style="background-color:grey;">
  <div class="container">
    <div class="form-group">
      <label for="nombre">Nombre</label>
      <input type="text" class="form-control" id="name" placeholder="Montserrat">
    
    <button type="button" onclick="start()" id="startStimulation" class="btn btn-primary">Iniciar ajuste del modelo</button>
    <button type="button" onclick="start()" id="startStimulation" class="btn btn-success">Iniciar percepción</nav></button>
    <button type="button" onclick="start()" id="startStimulation" class="btn btn-info">Iniciar imaginería mental</button>
    <img id="flip" src="">
    <div class="center" id="text"></div>
    </div>
  </div>
        

    <script>
      var text = $('#text');
var flip = $('#flip');
var images = [];
var current = 0;
images[0] = 'resources/mentalImg/img/carretera.jpeg';
images[1] = 'resources/mentalImg/img/ciudad.jpg';
images[2] = 'resources/mentalImg/img/construccion.jpeg';
images[3] = 'resources/mentalImg/img/fabrica.jpg';
images[4] = 'resources/mentalImg/img/terreno.jpg';

const delay = ms => new Promise(resolve => setTimeout(resolve, ms));
function start() {
  
  const primero = new Promise(
    resolve =>{
      setTimeout(() => {
        resolve('promesa 1');
      },4000);
    }
  );
  
  const segundo = new Promise(
    resolve =>{
      setTimeout(() => {
        resolve('promesa 2');
      },4000);
    }
  );
  
  const main = async() => {
    console.log(await primero);
    console.log(await segundo);

  }

  main();
  
  
  
  
  /*
  var interval = setInterval(function(){
  first().then(function(){
    text.text('');
  });
  console.log(current);
  if(current<images.length){
    current++;
  }else{
    clearInterval(interval);
  }

},4000);

async function first() {
text.text('000')
    await delay(4000);
    return 1;
}*/
}

async function first() {
    console.log("this might take some time....");
    await delay(4000);
    console.log("done!")
}


async function second() {
    console.log("this might take some time....");
    await delay(1400);
    console.log("done!")
}

async function third() {
    console.log("this might take some time....");
    await delay(600);
    console.log("done!")
}

/*
something();

var current = 0;



var stimulationTotal = setInterval(function() {
  var result = first().then(
    second.then(
      third();
    )
  )

  if(current<images.length){
    current++;
  }else{
    clearInterval(stimulationTotal);
  }

}, 6000);

async function first() {

let promise = new Promise((resolve, reject) => {
  setTimeout(() => resolve("done!"), 4000)
});

let result = await promise; // wait until the promise resolves (*)

alert(result); // "done!"
}

async function second() {

let promise = new Promise((resolve, reject) => {
  setTimeout(() => resolve("done!"), 4000)
});

let result = await promise; // wait until the promise resolves (*)

alert(result); // "done!"
}

async function third() {

let promise = new Promise((resolve, reject) => {
  setTimeout(() => resolve("done!"), 4000)
});

let result = await promise; // wait until the promise resolves (*)

alert(result); // "done!"
}


function startStimulation() {
  text.text('');
  flip.hide();
  console.log(current);
  setTimeout(function() {
    text.text('');
    flip.hide();
  }, 4000);

  setTimeout(function() {
    text.text('');
    flip.show();
    flip.attr('src', images[current]);
  }, 1400);

  setTimeout(function() {
    flip.hide();
    text.text("000");
  }, 600);

  setTimeout(function() {
    if (current < images.length - 1) {
      current++;
      startStimulation();
    }
  }, 6000)
}*/
</script>


</body>

</html>